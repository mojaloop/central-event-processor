<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="669.6px" preserveAspectRatio="none" style="width:570px;height:669px;" version="1.1" viewBox="0 0 570 669" width="570px" zoomAndPan="magnify"><defs><filter height="300%" id="f1idehabaw6mj6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2000000476837158"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4000000953674316" dy="2.4000000953674316" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153.6" x="206.25" y="14.1211">10.1. Notification Process Overview</text><rect fill="#FFFFE0" height="642.7899" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="163.2" x="17.4" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="66.6" y="28.234">Central Services</text><rect fill="#90EE90" height="642.7899" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="261.6" x="231.9" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136.2" x="294.6" y="28.234">Central Event Processing Services</text><rect fill="#ADD8E6" height="642.7899" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="69" x="494.7" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65.4" x="496.5" y="28.234">Notifier Services</text><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="48.9" y="231.3422"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="131.1" y="146.5969"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="131.1" y="476.2055"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="131.1" y="552.7242"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="443.8863" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="281.7" y="77.2652"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="466.5" y="266.9285"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="466.5" y="420.6328"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="493.459" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="526.2" y="77.2652"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="531.0317" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="550.5" x="7.8" y="81.4652"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="322.1684" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="489.3" x="13.8" y="198.9832"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="135.9047" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="413.1" x="84" y="372.0738"/><rect fill="#FFFFFF" height="8.973" style="stroke: none; stroke-width: 0.6000000238418579;" width="413.1" x="84" y="499.0055"/><rect fill="#FFFFFF" height="8.973" style="stroke: none; stroke-width: 0.6000000238418579;" width="489.3" x="13.8" y="512.1785"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="78.7453" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="468.3" x="84" y="529.5516"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="51.6" x2="51.6" y1="71.2652" y2="622.6969"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="133.8" x2="133.8" y1="71.2652" y2="622.6969"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="284.7" x2="284.7" y1="71.2652" y2="622.6969"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="469.5" x2="469.5" y1="71.2652" y2="622.6969"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="528.9" x2="528.9" y1="71.2652" y2="622.6969"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="60.6" x="19.8" y="59.6004">Central Ledger</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="42.6" x="28.8" y="69.4934">Admin API</text><path d="M39.6,34.6793 L39.6,49.0793 M39.6,41.8793 L49.8,41.8793 " fill="none" filter="url(#f1idehabaw6mj6)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><ellipse cx="57" cy="41.8793" fill="#FEFECE" filter="url(#f1idehabaw6mj6)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="60.6" x="19.8" y="630.218">Central Ledger</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="42.6" x="28.8" y="640.111">Admin API</text><path d="M39.6,644.2828 L39.6,658.6828 M39.6,651.4828 L49.8,651.4828 " fill="none" filter="url(#f1idehabaw6mj6)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><ellipse cx="57" cy="651.4828" fill="#FEFECE" filter="url(#f1idehabaw6mj6)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><rect fill="#FEFECE" filter="url(#f1idehabaw6mj6)" height="18.293" style="stroke: #A80036; stroke-width: 0.9000000357627869;" width="83.4" x="92.4" y="47.5723"/><rect fill="#FEFECE" filter="url(#f1idehabaw6mj6)" height="18.293" style="stroke: #A80036; stroke-width: 0.9000000357627869;" width="83.4" x="90" y="49.9723"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="75" x="94.2" y="62.2934">Notification-Topic</text><rect fill="#FEFECE" filter="url(#f1idehabaw6mj6)" height="18.293" style="stroke: #A80036; stroke-width: 0.9000000357627869;" width="83.4" x="92.4" y="622.0969"/><rect fill="#FEFECE" filter="url(#f1idehabaw6mj6)" height="18.293" style="stroke: #A80036; stroke-width: 0.9000000357627869;" width="83.4" x="90" y="624.4969"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="75" x="94.2" y="636.818">Notification-Topic</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="97.2" x="234.3" y="69.4934">Central Event Processor</text><ellipse cx="284.7" cy="51.7723" fill="#FEFECE" filter="url(#f1idehabaw6mj6)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><polygon fill="#A80036" points="282.3,44.5723,285.9,41.5723,284.7,44.5723,285.9,47.5723,282.3,44.5723" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="97.2" x="234.3" y="630.218">Central Event Processor</text><ellipse cx="284.7" cy="641.5899" fill="#FEFECE" filter="url(#f1idehabaw6mj6)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><polygon fill="#A80036" points="282.3,634.3899,285.9,631.3899,284.7,634.3899,285.9,637.3899,282.3,634.3899" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="39.6" x="447.9" y="69.4934">CEP Store</text><path d="M458.7,39.7723 C458.7,33.7723 469.5,33.7723 469.5,33.7723 C469.5,33.7723 480.3,33.7723 480.3,39.7723 L480.3,55.3723 C480.3,61.3723 469.5,61.3723 469.5,61.3723 C469.5,61.3723 458.7,61.3723 458.7,55.3723 L458.7,39.7723 " fill="#FEFECE" filter="url(#f1idehabaw6mj6)" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><path d="M458.7,39.7723 C458.7,45.7723 469.5,45.7723 469.5,45.7723 C469.5,45.7723 480.3,45.7723 480.3,39.7723 " fill="none" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="39.6" x="447.9" y="630.218">CEP Store</text><path d="M458.7,637.9899 C458.7,631.9899 469.5,631.9899 469.5,631.9899 C469.5,631.9899 480.3,631.9899 480.3,637.9899 L480.3,653.5899 C480.3,659.5899 469.5,659.5899 469.5,659.5899 C469.5,659.5899 458.7,659.5899 458.7,653.5899 L458.7,637.9899 " fill="#FEFECE" filter="url(#f1idehabaw6mj6)" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><path d="M458.7,637.9899 C458.7,643.9899 469.5,643.9899 469.5,643.9899 C469.5,643.9899 480.3,643.9899 480.3,637.9899 " fill="none" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="30.6" x="512.1" y="69.4934">Notifier</text><ellipse cx="529.2" cy="51.7723" fill="#FEFECE" filter="url(#f1idehabaw6mj6)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><polygon fill="#A80036" points="526.8,44.5723,530.4,41.5723,529.2,44.5723,530.4,47.5723,526.8,44.5723" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="30.6" x="512.1" y="630.218">Notifier</text><ellipse cx="529.2" cy="641.5899" fill="#FEFECE" filter="url(#f1idehabaw6mj6)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><polygon fill="#A80036" points="526.8,634.3899,530.4,631.3899,529.2,634.3899,530.4,637.3899,526.8,634.3899" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="48.9" y="231.3422"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="131.1" y="146.5969"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="131.1" y="476.2055"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="131.1" y="552.7242"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="443.8863" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="281.7" y="77.2652"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="466.5" y="266.9285"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="466.5" y="420.6328"/><rect fill="#FFFFFF" filter="url(#f1idehabaw6mj6)" height="493.459" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="526.2" y="77.2652"/><path d="M7.8,81.4652 L114,81.4652 L114,85.6652 L108,91.6652 L7.8,91.6652 L7.8,81.4652 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="531.0317" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="550.5" x="7.8" y="81.4652"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79.2" x="16.8" y="89.6063">Notification Process</text><path d="M37.2,94.8516 L37.2,127.8516 L128.4,127.8516 L128.4,100.8516 L122.4,94.8516 L37.2,94.8516 " fill="#D3D3D3" filter="url(#f1idehabaw6mj6)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M122.4,94.8516 L122.4,100.8516 L128.4,100.8516 L122.4,94.8516 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="78" x="40.8" y="105.3926">Events are published</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="78.6" x="40.8" y="114.5789">to Notification Topic</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="73.8" x="40.8" y="123.7652">by Central Services.</text><polygon fill="#A80036" points="143.7,144.1969,137.7,146.5969,143.7,148.9969,141.3,146.5969" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="140.1" x2="281.1" y1="146.5969" y2="146.5969"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="147.3" y="143.7516">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="125.4" x="155.1" y="143.7516">Consumes notification messages</text><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="287.7" x2="312.9" y1="182.1832" y2="182.1832"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="312.9" x2="312.9" y1="182.1832" y2="189.9832"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="288.3" x2="312.9" y1="189.9832" y2="189.9832"/><polygon fill="#A80036" points="294.3,187.5832,288.3,189.9832,294.3,192.3832,291.9,189.9832" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="291.9" y="179.3379">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="162.6" x="299.7" y="179.3379">Filter notification messages on event types</text><path d="M13.8,198.9832 L51,198.9832 L51,203.1832 L45,209.1832 L13.8,209.1832 L13.8,198.9832 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="322.1684" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="489.3" x="13.8" y="198.9832"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.2" x="22.8" y="207.1242">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="60" y="206.5641">[Messages event type that qualify]</text><polygon fill="#A80036" points="61.5,228.9422,55.5,231.3422,61.5,233.7422,59.1,231.3422" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="57.9" x2="281.1" y1="231.3422" y2="231.3422"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="65.1" y="223.9037">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="147" x="72.9" y="219.3106">Request additional info for notification</text><text fill="#FF0000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="72.9" y="228.4969">Error codes:</text><text fill="#FF0000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="43.2" x="123.3" y="228.4969">2001, 2003</text><polygon fill="#A80036" points="459.3,264.5285,465.3,266.9285,459.3,269.3285,461.7,266.9285" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="287.7" x2="462.9" y1="266.9285" y2="266.9285"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="291.9" y="264.0832">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="107.4" x="299.7" y="264.0832">Persist message related data</text><polygon fill="#FFFFE0" filter="url(#f1idehabaw6mj6)" points="456,292.7285,483,292.7285,489,299.3285,483,306.5285,456,306.5285,450,299.3285,456,292.7285" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="24.6" x="457.2" y="302.6695">events</text><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="287.7" x2="312.9" y1="322.5012" y2="322.5012"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="312.9" x2="312.9" y1="322.5012" y2="330.3012"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="288.3" x2="312.9" y1="330.3012" y2="330.3012"/><polygon fill="#A80036" points="294.3,327.9012,288.3,330.3012,294.3,332.7012,291.9,330.3012" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="291.9" y="319.6559">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="0" x="302.1" y="319.6559"/><path d="M290.4,338.1012 L290.4,362.1012 L391.2,362.1012 L391.2,344.1012 L385.2,338.1012 L290.4,338.1012 " fill="#D3D3D3" filter="url(#f1idehabaw6mj6)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M385.2,338.1012 L385.2,344.1012 L391.2,344.1012 L385.2,338.1012 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="88.2" x="294" y="348.6422">Invoke the Rule Engine.</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="69" x="294" y="357.8285">Evaluate the facts.</text><path d="M84,372.0738 L121.2,372.0738 L121.2,376.2738 L115.2,382.2738 L84,382.2738 L84,372.0738 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="135.9047" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="413.1" x="84" y="372.0738"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.2" x="93" y="380.2149">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="130.2" y="379.6547">[Qualifying messages will trigger a notification event]</text><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="287.7" x2="312.9" y1="395.2465" y2="395.2465"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="312.9" x2="312.9" y1="395.2465" y2="403.0465"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="288.3" x2="312.9" y1="403.0465" y2="403.0465"/><polygon fill="#A80036" points="294.3,400.6465,288.3,403.0465,294.3,405.4465,291.9,403.0465" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="291.9" y="392.4012">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="105" x="299.7" y="392.4012">Constructs new notification</text><polygon fill="#A80036" points="459.3,418.2328,465.3,420.6328,459.3,423.0328,461.7,420.6328" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="287.7" x2="462.9" y1="420.6328" y2="420.6328"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="291.9" y="417.7875">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="88.8" x="299.7" y="417.7875">Persist new notification</text><polygon fill="#FFFFE0" filter="url(#f1idehabaw6mj6)" points="456.6,446.4328,482.4,446.4328,488.4,453.0328,482.4,460.2328,456.6,460.2328,450.6,453.0328,456.6,446.4328" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="23.4" x="457.8" y="456.3738">action</text><polygon fill="#A80036" points="143.7,473.8055,137.7,476.2055,143.7,478.6055,141.3,476.2055" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="140.1" x2="281.1" y1="476.2055" y2="476.2055"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="147.3" y="473.3602">8</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="88.8" x="155.1" y="473.3602">Persist new notification</text><line style="stroke: #000000; stroke-width: 0.6000000238418579; stroke-dasharray: 2.0,2.0;" x1="84" x2="497.1" y1="499.6055" y2="499.6055"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193.2" x="87" y="505.9863">[Message does not qualify for notification event (Ignore)]</text><line style="stroke: #000000; stroke-width: 0.6000000238418579; stroke-dasharray: 2.0,2.0;" x1="13.8" x2="503.1" y1="512.7785" y2="512.7785"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232.2" x="16.8" y="519.1594">[Message event type does not qualify for notification action (Ignore)]</text><path d="M84,529.5516 L182.4,529.5516 L182.4,533.7516 L176.4,539.7516 L84,539.7516 L84,529.5516 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="78.7453" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="468.3" x="84" y="529.5516"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71.4" x="93" y="537.6926">Notification event</text><polygon fill="#A80036" points="143.7,550.3242,137.7,552.7242,143.7,555.1242,141.3,552.7242" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="140.1" x2="525.6" y1="552.7242" y2="552.7242"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="147.3" y="549.8789">9</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="121.2" x="155.1" y="549.8789">Consumes messages from topic</text><path d="M370.8,578.5242 L370.8,602.5242 L523.8,602.5242 L523.8,584.5242 L517.8,578.5242 L370.8,578.5242 " fill="#D3D3D3" filter="url(#f1idehabaw6mj6)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M517.8,578.5242 L517.8,584.5242 L523.8,584.5242 L517.8,578.5242 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="140.4" x="374.4" y="589.0653">Notifier Handler to process topic and</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="114.6" x="374.4" y="598.2516">distribute notifications/alerts.</text><!--
@startuml
title 10.1. Notification Process Overview
autonumber

boundary "Central Ledger\nAdmin API" as CLAPI
control "Central Event Processor" as CEP
control "Notifier" as NOTIFIER
collections "Notification-Topic" as topicNotify
database "CEP Store" as DB

box "Central Services" #LightYellow
participant CLAPI
participant topicNotify
end box
box "Central Event Processing Services" #LightGreen
participant CEP
participant DB
end box
box "Notifier Services" #LightBlue
participant NOTIFIER
end box

group Notification Process
    activate CEP
    activate NOTIFIER
    note left of topicNotify #LightGrey
        Events are published
        to Notification Topic
        by Central Services.
    end note
    topicNotify <- CEP: Consumes notification messages
    activate topicNotify
    deactivate topicNotify
    CEP -> CEP: Filter notification messages on event types
    alt Messages event type that qualify
        CEP -> CLAPI: Request additional info for notification\n<color #FF0000><b>Error codes:</b> 2001, 2003 </color>
        activate CLAPI
        deactivate CLAPI
        CEP -> DB: Persist message related data
        hnote over DB #LightYellow
            events
        end hnote
        activate DB
        deactivate DB
        CEP -> CEP
        note right of CEP #LightGrey
            Invoke the Rule Engine.
            Evaluate the facts.
        end note

        alt Qualifying messages will trigger a notification event
            CEP -> CEP: Constructs new notification
            CEP -> DB: Persist new notification
            hnote over DB #LightYellow
                action
            end hnote
            activate DB
            deactivate DB
            topicNotify <- CEP: Persist new notification
            activate topicNotify
            deactivate topicNotify
        else Message does not qualify for notification event (Ignore)
        end
    else Message event type does not qualify for notification action (Ignore)
    deactivate CEP
    end

    group Notification event
    topicNotify <- NOTIFIER: Consumes messages from topic
    activate topicNotify
    deactivate NOTIFIER
    deactivate topicNotify
    note left of NOTIFIER #LightGrey
        Notifier Handler to process topic and
        distribute notifications/alerts.
    end note
    end
end
@enduml

PlantUML version 1.2018.11(Sat Sep 22 18:43:53 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b26
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>